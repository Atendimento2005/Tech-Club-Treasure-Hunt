<!-- <script async src="/static/scripts/manka.js"></script> -->
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tech Club Treasure Hunt</title>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script> 
    <link rel="stylesheet" href="/static/style.css">
    <link rel="icon" href="/static/resources/logo.png">
</head>
<body>
    <nav class="navbar navbar-expand navbar-light bg-light">
        <a href="#" class="navbar-brand">
            <img src="/static/resources/logoText.png" alt="logo" class="logo">
        </a>
    </nav>
    <main>
        <div id="container" class="container-fluid">
            <div class="btn" style="font-size: 30px;">Click Me!</div>
            <!-- <div class="heading">ALRIGHT FINE!</div>     
                <div class="heading">YOU WIN!</div>     
                <div class="heading">Take a screenshot of this page and send it to Aten</div>      -->
        </div>
    </main>
    <audio src="/static/resources/yay.mp3" id="yay"></audio>
</body>
</html>

<script src="/static/scripts/logo.js"></script>
<script src="/static/scripts/logo.js"></script>
<script src="/static/scripts/logo.js"></script>
<script src="/static/scripts/logo.js"></script>
<script src="/static/scripts/logo.js"></script>
<script>

    let startFireworks = () => {
        var count = 1000;
        var defaults = {
        origin: { y: 1.4}
        };

        function fire(particleRatio, opts) {
        confetti(Object.assign({}, defaults, opts, {
            particleCount: Math.floor(count * particleRatio)
        }));
        }

        fire(0.25, {
        spread: 126,
        startVelocity: 155,
        });
        fire(0.2, {
        spread: 160,
        });
        fire(0.35, {
        spread: 200,
        decay: 0.91,
        scalar: 0.8
        });
        fire(0.1, {
        spread: 220,
        startVelocity: 125,
        decay: 0.92,
        scalar: 1.2
        });
        fire(0.1, {
        spread: 220,
        startVelocity: 145,
        });
        fire(0.25, {
        spread: 126,
        startVelocity: 155,
        });
        fire(0.2, {
        spread: 160,
        });
        fire(0.35, {
        spread: 200,
        decay: 0.91,
        scalar: 0.8
        });
        fire(0.1, {
        spread: 220,
        startVelocity: 125,
        decay: 0.92,
        scalar: 1.2
        });
        fire(0.1, {
        spread: 220,
        startVelocity: 145,
        });
    }

    let container = document.getElementById("container")
    let but = document.getElementsByClassName("btn")[0]
    let audio = document.getElementById("yay")
    let state = 0
    let tim
    const update = () => {
        console.log("updating")
        if(state == 0){
            container.innerHTML = `<div class="heading">ALRIGHT FINE!</div>`
            tim = setInterval(update, 3000)
        }else if(state == 1){
            container.innerHTML = `<div class="heading">You WIN!</div>`
            yay.play()
            startFireworks()
        }else if(state == 2){
            container.innerHTML = `<div class="heading">Good job on figuring all this out!</div>`
        }else if(state == 3){
            container.innerHTML = `<div class="heading">I hope you had fun :))</div>`
        }else if(state == 4){
            container.innerHTML = `<div class="heading">Also now that you've finally won</div>`
        }else if(state == 5){
            container.innerHTML = `<div class="heading">Send Aten a screenshot of this page</div>`
        }else{
            container.innerHTML = `<div class="heading">to claim your prize ;))</div>`
            clearInterval(tim)
        }
        state += 1
    }

    but.onclick = update
</script>